import{r as d,j as e}from"./index-BQuiXMlq.js";function q({userId:j,config:W,features:R,api:B}){const[a,b]=d.useState([]),[s,h]=d.useState([]),[p,x]=d.useState([]),[l,u]=d.useState(!1),[y,m]=d.useState(!1);d.useEffect(()=>{(async()=>{try{u(!0),b([{label:"Active Services",value:8,color:"#f59e0b"},{label:"Active Customers",value:12,trend:"+2 this month",color:"#10b981"},{label:"Active Centers",value:24,trend:"+3 this quarter",color:"#8b5cf6"},{label:"Active Crew",value:15,trend:"+1 this week",color:"#ef4444"},{label:"Pending Orders",value:3,color:"#f97316"},{label:"Account Status",value:"Current",color:"#10b981"}]),h([{id:"CUS-001",name:"Acme Corp",centers:3,status:"Active",last_service:"2025-01-08"},{id:"CUS-002",name:"Global Tech",centers:2,status:"Active",last_service:"2025-01-07"},{id:"CUS-003",name:"Local Business",centers:1,status:"Pending",last_service:"2024-12-15"}])}catch(f){console.error("Error loading business data:",f)}finally{u(!1)}})()},[j]),d.useEffect(()=>{(async()=>{try{m(!0),x([{activity_id:"1",activity_type:"user_welcome",description:"Welcome to your contractor hub! Get started by exploring your business dashboard.",created_at:new Date().toISOString()},{activity_id:"2",activity_type:"manager_assigned",description:"CKS Account Manager has been assigned to your account.",created_at:new Date(Date.now()-864e5).toISOString()}])}catch(f){console.error("Error loading activity:",f)}finally{m(!1)}})()},[j]);const c=async()=>{confirm("Are you sure you want to clear your recent activity? This action cannot be undone.")&&x([])},o=()=>{alert("Interactive walkthrough coming soon!")};return e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:"Overview"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",gap:16,marginBottom:24},children:a.map((n,f)=>e.jsxs("div",{className:"ui-card",style:{padding:16,textAlign:"left"},children:[e.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:n.label}),e.jsx("div",{style:{fontSize:24,fontWeight:700,color:n.color||"#111827"},children:n.value}),n.trend&&e.jsx("div",{style:{fontSize:12,color:n.color||"#10b981",marginTop:4},children:n.trend})]},f))}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h3",{style:{fontSize:16,fontWeight:600,margin:0},children:"Recent Activity"}),p.length>0&&e.jsx("button",{onClick:c,style:{padding:"4px 8px",fontSize:11,background:"#ef4444",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontWeight:600},children:"Clear"})]}),e.jsx("div",{className:"ui-card",style:{padding:16,marginBottom:24},children:y?e.jsx("div",{style:{textAlign:"center",padding:24,color:"#6b7280"},children:"Loading activity..."}):p.length===0?e.jsxs("div",{style:{textAlign:"center",padding:32,color:"#6b7280",background:"#f9fafb",borderRadius:8},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"ðŸ“‹"}),e.jsx("div",{style:{fontSize:14,fontWeight:500},children:"No recent activity"}),e.jsx("div",{style:{fontSize:12,marginTop:4},children:"Business activity will appear here as it occurs"})]}):e.jsx("ul",{style:{listStyle:"none",margin:0,padding:0},children:p.slice(0,8).map(n=>{const f=String(n.activity_type||"");return f==="user_welcome"||f==="welcome_message"?e.jsxs("li",{style:{padding:12,borderBottom:"1px solid #e5e7eb",fontSize:13,background:"#ecfdf5",borderRadius:8,marginBottom:8},children:[e.jsx("div",{style:{fontWeight:700,color:"#065f46"},children:"Welcome"}),e.jsx("div",{style:{margin:"2px 0",color:"#065f46"},children:n.description}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("div",{style:{fontSize:11,color:"#047857"},children:new Date(n.created_at).toLocaleString()}),e.jsx("button",{style:{padding:"6px 10px",fontSize:12,background:"#10b981",color:"white",border:"none",borderRadius:6,cursor:"pointer"},onClick:o,children:"Launch Walkthrough"})]})]},n.activity_id):f==="manager_assigned"?e.jsxs("li",{style:{padding:12,borderBottom:"1px solid #e5e7eb",fontSize:13,background:"#eff6ff",borderRadius:8,marginBottom:8},children:[e.jsx("div",{style:{fontWeight:700,color:"#1e3a8a"},children:"Manager Assigned"}),e.jsx("div",{style:{margin:"2px 0",color:"#1e3a8a"},children:n.description}),e.jsx("div",{style:{fontSize:11,color:"#1d4ed8"},children:new Date(n.created_at).toLocaleString()})]},n.activity_id):e.jsxs("li",{style:{padding:"8px 0",borderBottom:"1px solid #e5e7eb",fontSize:13},children:[e.jsx("div",{style:{fontWeight:600},children:n.activity_type.replace(/_/g," ")}),e.jsx("div",{style:{opacity:.8},children:n.description}),e.jsx("div",{style:{fontSize:11,color:"#6b7280"},children:new Date(n.created_at).toLocaleString()})]},n.activity_id)})})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[e.jsxs("div",{className:"ui-card",style:{padding:16},children:[e.jsx("div",{style:{marginBottom:16,color:"#10b981",display:"flex",alignItems:"center",gap:8,fontSize:16,fontWeight:600},children:"ðŸ“° News & Updates"}),e.jsxs("div",{style:{textAlign:"center",padding:20,color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:32,marginBottom:8},children:"ðŸ“°"}),e.jsx("div",{style:{fontSize:14,fontWeight:500,marginBottom:4},children:"No Recent News"}),e.jsx("div",{style:{fontSize:12},children:"Company news and updates will appear here"})]}),e.jsx("button",{style:{width:"100%",padding:"8px 16px",fontSize:12,backgroundColor:"#dcfce7",color:"#10b981",border:"1px solid #22c55e",borderRadius:4,cursor:"pointer",marginTop:8,fontWeight:500},onClick:()=>alert("Full News - Coming Soon!"),children:"View All News"})]}),e.jsxs("div",{className:"ui-card",style:{padding:16},children:[e.jsx("div",{style:{marginBottom:16,color:"#10b981",display:"flex",alignItems:"center",gap:8,fontSize:16,fontWeight:600},children:"ðŸ“¬ Mail"}),e.jsxs("div",{style:{textAlign:"center",padding:20,color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:32,marginBottom:8},children:"ðŸ“§"}),e.jsx("div",{style:{fontSize:14,fontWeight:500,marginBottom:4},children:"No Messages"}),e.jsx("div",{style:{fontSize:12},children:"Internal messages and notifications will appear here"})]}),e.jsx("button",{style:{width:"100%",padding:"8px 16px",fontSize:12,backgroundColor:"#dcfce7",color:"#10b981",border:"1px solid #22c55e",borderRadius:4,cursor:"pointer",marginTop:8,fontWeight:500},onClick:()=>alert("Full Mailbox - Coming Soon!"),children:"View Mailbox"})]})]})]})}function F({userId:j,config:W,features:R,api:B}){const[a,b]=d.useState(0),[s,h]=d.useState(null),[p,x]=d.useState(null),[l,u]=d.useState(!1);d.useEffect(()=>{h({contractor_id:"CON-001",company_name:"Premium Contractor LLC",address:"123 Business St, Enterprise City, ST 12345",cks_manager:"MGR-001",main_contact:"John Smith, CEO",phone:"(555) 123-4567",email:"contact@premiumcontractor.com",website:"www.premiumcontractor.com",years_with_cks:"3 Years",num_customers:"12",contract_start_date:"2022-01-15",status:"Active Premium Client",services_specialized:"Commercial Cleaning, Maintenance, Security"})},[j]),d.useEffect(()=>{if(a!==1||!(s!=null&&s.cks_manager))return;(async()=>{try{u(!0),x({manager_id:"MGR-001",name:"Sarah Johnson",email:"sarah.johnson@cks.com",phone:"(555) 987-6543",territory:"Northeast Region",role:"Senior Account Manager"})}catch(o){console.error("Error loading manager profile:",o),x(null)}finally{u(!1)}})()},[a,s==null?void 0:s.cks_manager]);const y=c=>{try{if(!c)return"Not Set";const o=new Date(c);return isNaN(o.getTime())?String(c):o.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"2-digit"})}catch{return String(c||"Not Set")}};if(!s)return e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:24,marginBottom:8},children:"â³"}),e.jsx("div",{children:"Loading profile..."})]});const m=s.company_name||"Premium Contractor LLC";return e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:"Company Profile"}),e.jsx("div",{style:{display:"flex",gap:8,marginBottom:16,flexWrap:"wrap"},children:["Profile","Account Manager","Settings"].map((c,o)=>e.jsx("button",{onClick:()=>b(o),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #e5e7eb",background:a===o?"#10b981":"white",color:a===o?"white":"#111827",fontSize:14,fontWeight:500,cursor:"pointer",transition:"all 0.2s ease"},children:c},c))}),e.jsxs("div",{className:"ui-card",style:{padding:24},children:[a===0&&e.jsxs("div",{style:{display:"flex",gap:32},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:150,height:150,borderRadius:"50%",background:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:48,color:"#6b7280",fontWeight:"bold",marginBottom:16},children:m.split(" ").map(c=>c[0]).join("").toUpperCase().substring(0,2)||"PC"}),e.jsx("button",{style:{padding:"8px 16px",background:"white",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:6,fontSize:14,fontWeight:500,cursor:"pointer"},children:"Update Photo"})]}),e.jsx("div",{style:{flex:1},children:e.jsx("table",{style:{width:"100%",borderSpacing:"0 16px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,width:"200px",verticalAlign:"top"},children:"Company Name"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:s.company_name})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Contractor ID"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:s.contractor_id})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Main Contact"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:s.main_contact})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Email"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:s.email})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Phone"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:s.phone})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Start Date"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:y(s.contract_start_date)})]})]})})})]}),a===1&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:18,fontWeight:600,marginBottom:16,color:"#10b981"},children:"CKS Account Manager"}),l?e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:24,marginBottom:8},children:"â³"}),e.jsx("div",{children:"Loading account manager information..."})]}):p?e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"200px 1fr",gap:24},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:120,height:120,borderRadius:"50%",background:"#eff6ff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:36,fontWeight:700,color:"#3b7af7",margin:"0 auto 12px",border:"3px solid #3b7af7"},children:p.name?p.name.split(" ").map(c=>c[0]).join("").toUpperCase():"AM"}),e.jsx("div",{style:{fontSize:12,color:"#6b7280",fontWeight:500},children:"CKS Account Manager"})]}),e.jsxs("div",{children:[e.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:e.jsx("tbody",{children:[["Manager Name",p.name],["Manager ID",p.manager_id],["Email",p.email],["Phone",p.phone]].map(([c,o])=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"12px 0",fontWeight:600,width:"40%",color:"#374151",borderBottom:"1px solid #f3f4f6"},children:c}),e.jsx("td",{style:{padding:"12px 0",color:"#6b7280",borderBottom:"1px solid #f3f4f6"},children:o||"Not Available"})]},c))})}),e.jsxs("div",{style:{marginTop:24,display:"flex",gap:8},children:[e.jsx("button",{style:{padding:"8px 16px",background:"#3b7af7",color:"white",border:"none",borderRadius:6,fontSize:14,fontWeight:500,cursor:"pointer"},children:"Contact Manager"}),e.jsx("button",{style:{padding:"8px 16px",background:"white",color:"#3b7af7",border:"1px solid #3b7af7",borderRadius:6,fontSize:14,fontWeight:500,cursor:"pointer"},children:"Schedule Meeting"})]})]})]}):e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"ðŸ‘¤"}),e.jsx("div",{style:{fontSize:16,fontWeight:500,marginBottom:4},children:"No Account Manager Assigned"}),e.jsx("div",{style:{fontSize:12},children:"An account manager will be assigned to your account soon"})]})]}),a===2&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:18,fontWeight:600,marginBottom:20,color:"#111827"},children:"Settings"}),e.jsx("div",{style:{color:"#6b7280",textAlign:"center",padding:40},children:"Settings options will be displayed here"})]})]})]})}function P({userId:j,config:W,features:R,api:B}){const[a,b]=d.useState("offered"),[s,h]=d.useState(""),[p,x]=d.useState([]),[l,u]=d.useState([]),[y,m]=d.useState([]),[c,o]=d.useState(!0);d.useEffect(()=>{(async()=>{try{o(!0);const C=[{service_id:"SRV-001",service_name:"Commercial Deep Cleaning",category:"Cleaning",status:"active",start_date:"2024-01-15"},{service_id:"SRV-002",service_name:"Floor Care & Maintenance",category:"Maintenance",status:"active",start_date:"2024-03-01"},{service_id:"SRV-003",service_name:"Window Cleaning Services",category:"Cleaning",status:"active",start_date:"2024-02-10"}],w=[{service_id:"CEN001-SRV001",service_name:"Commercial Deep Cleaning",status:"active",client:"Downtown Business Center",start_date:"2025-09-01",category:"Recurring"},{service_id:"CEN002-SRV002",service_name:"Floor Care & Maintenance",status:"active",client:"Metro Construction LLC",start_date:"2025-09-10",end_date:"2025-09-15",category:"One-time"}],A=[{service_id:"CEN003-SRV001",service_name:"Commercial Deep Cleaning",status:"completed",client:"City Diner",start_date:"2025-08-15",end_date:"2025-08-20",category:"One-time"},{service_id:"CEN004-SRV003",service_name:"Window Cleaning Services",status:"cancelled",client:"Health Partners Clinic",start_date:"2025-08-01",end_date:"2025-08-02",category:"One-time"},{service_id:"CEN005-SRV002",service_name:"Floor Care & Maintenance",status:"completed",client:"Fashion Forward",start_date:"2025-07-01",end_date:"2025-07-31",category:"Monthly"}];x(C),u(w),m(A)}catch(C){console.error("Error loading services:",C)}finally{o(!1)}})()},[j]);const n=(r,C)=>{alert(`Opening detailed view for ${r} from ${C} section`)},f=()=>{alert("Add Service - Coming Soon!")},v=()=>{alert("Browse CKS Catalog - Coming Soon!")};if(c)return e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:24,marginBottom:8},children:"â³"}),e.jsx("div",{children:"Loading services..."})]});const t=()=>{switch(a){case"offered":return p;case"active":return l;case"history":return y;default:return[]}},k=()=>{switch(a){case"offered":return["Service ID","Service Name","Category","Status","Start Date"];case"active":return["Service ID","Service Name","Client","Category","Start Date","End Date"];case"history":return["Service ID","Service Name","Client","Status","Start Date","End Date"];default:return[]}},z=r=>{switch(a){case"offered":return e.jsxs("tr",{children:[e.jsx("td",{style:{padding:10,fontWeight:600,color:"#10b981",cursor:"pointer"},onClick:()=>n(r.service_id,"My Services"),children:r.service_id}),e.jsx("td",{style:{padding:10},children:r.service_name}),e.jsx("td",{style:{padding:10},children:r.category}),e.jsx("td",{style:{padding:10},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:4,fontSize:10,fontWeight:600,background:"#dcfce7",color:"#166534"},children:r.status})}),e.jsx("td",{style:{padding:10},children:r.start_date})]},r.service_id);case"active":return e.jsxs("tr",{children:[e.jsx("td",{style:{padding:10,fontWeight:600,color:"#10b981",cursor:"pointer"},onClick:()=>n(r.service_id,"Active Services"),children:r.service_id}),e.jsx("td",{style:{padding:10},children:r.service_name}),e.jsx("td",{style:{padding:10},children:r.client||"â€”"}),e.jsx("td",{style:{padding:10},children:r.category}),e.jsx("td",{style:{padding:10},children:r.start_date}),e.jsx("td",{style:{padding:10},children:r.end_date||"â€”"})]},r.service_id);case"history":return e.jsxs("tr",{children:[e.jsx("td",{style:{padding:10,fontWeight:600,color:"#10b981",cursor:"pointer"},onClick:()=>n(r.service_id,"Service History"),children:r.service_id}),e.jsx("td",{style:{padding:10},children:r.service_name}),e.jsx("td",{style:{padding:10},children:r.client||"â€”"}),e.jsx("td",{style:{padding:10},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:4,fontSize:10,fontWeight:600,background:r.status==="completed"?"#dcfce7":"#fef2f2",color:r.status==="completed"?"#166534":"#991b1b"},children:r.status})}),e.jsx("td",{style:{padding:10},children:r.start_date}),e.jsx("td",{style:{padding:10},children:r.end_date||"â€”"})]},r.service_id);default:return null}},S=r=>{switch(r){case"offered":return`My Services (${p.length})`;case"active":return`Active Services (${l.length})`;case"history":return`Service History (${y.length})`;default:return r}},_=()=>{switch(a){case"offered":return"Services you currently offer through CKS";case"active":return"Currently active service engagements";case"history":return"Completed/cancelled services archive";default:return""}};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,margin:0,color:"#111827"},children:"My Services"}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{onClick:f,style:{padding:"8px 16px",border:"1px solid #10b981",borderRadius:6,background:"white",color:"#10b981",fontSize:14,fontWeight:600,cursor:"pointer"},children:"Add Service"}),e.jsx("button",{onClick:v,style:{padding:"8px 16px",border:"1px solid #10b981",borderRadius:6,background:"#10b981",color:"white",fontSize:14,fontWeight:600,cursor:"pointer"},children:"Browse CKS Catalog"})]})]}),e.jsx("div",{style:{display:"flex",gap:8,marginBottom:16},children:["offered","active","history"].map(r=>e.jsx("button",{onClick:()=>b(r),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #e5e7eb",background:a===r?"#10b981":"white",color:a===r?"white":"#111827",fontSize:14,fontWeight:600,cursor:"pointer"},children:S(r)},r))}),e.jsxs("div",{style:{border:"1px solid #edf2f7",borderRadius:10,background:"#fafafa",padding:12},children:[e.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:12},children:_()}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12},children:[e.jsx("input",{value:s,onChange:r=>h(r.target.value),placeholder:"Search by Service ID or name",style:{flex:1,padding:8,border:"1px solid #e5e7eb",borderRadius:8,background:"white"}}),e.jsx("span",{style:{fontSize:12,color:"#6b7280"},children:"max 10"})]}),e.jsx("div",{style:{overflowX:"auto",background:"white",border:"1px solid #e5e7eb",borderRadius:8},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{children:k().map(r=>e.jsx("th",{style:{textAlign:"left",background:"#f9fafb",borderBottom:"1px solid #e5e7eb",padding:10,fontSize:12,color:"#6b7280"},children:r},r))})}),e.jsx("tbody",{children:t().filter(r=>{const C=s.trim().toLowerCase();return C?String(r.service_id||"").toLowerCase().includes(C)||String(r.service_name||"").toLowerCase().includes(C):!0}).slice(0,10).map(r=>z(r))})]})})]})]})}function H({userId:j,config:W,features:R,api:B}){const[a,b]=d.useState([]),[s,h]=d.useState(new Set),[p,x]=d.useState(!0),[l,u]=d.useState(null);d.useEffect(()=>{(async()=>{try{x(!0),u(null),b([{id:"CON-001",name:"Premium Contractor LLC",type:"contractor",stats:{customers:12,centers:24,crew:15},children:[{id:"CUS-001",name:"Acme Corporation",type:"customer",stats:{centers:3,crew:5},children:[{id:"CTR-001",name:"Acme Downtown Office",type:"center",stats:{crew:2},children:[{id:"CRW-001",name:"John Smith (Lead)",type:"crew"},{id:"CRW-002",name:"Jane Doe (Specialist)",type:"crew"}]},{id:"CTR-002",name:"Acme Warehouse",type:"center",stats:{crew:3},children:[{id:"CRW-003",name:"Mike Johnson (Lead)",type:"crew"},{id:"CRW-004",name:"Sarah Wilson",type:"crew"},{id:"CRW-005",name:"Bob Brown",type:"crew"}]}]},{id:"CUS-002",name:"Global Tech Solutions",type:"customer",stats:{centers:2,crew:4},children:[{id:"CTR-003",name:"Global Tech HQ",type:"center",stats:{crew:2},children:[{id:"CRW-006",name:"Alice Green (Lead)",type:"crew"},{id:"CRW-007",name:"Tom Clark",type:"crew"}]},{id:"CTR-004",name:"Global Tech Branch",type:"center",stats:{crew:2},children:[{id:"CRW-008",name:"Lisa White (Lead)",type:"crew"},{id:"CRW-009",name:"David Lee",type:"crew"}]}]},{id:"CUS-003",name:"Local Business Center",type:"customer",stats:{centers:1,crew:2},children:[{id:"CTR-005",name:"Local Business Main",type:"center",stats:{crew:2},children:[{id:"CRW-010",name:"Chris Taylor (Lead)",type:"crew"},{id:"CRW-011",name:"Emma Davis",type:"crew"}]}]}]}]),h(new Set(["CON-001"]))}catch(n){console.error("Error loading ecosystem:",n),u("Failed to load ecosystem data")}finally{x(!1)}})()},[j]);const y=o=>{const n=new Set(s);n.has(o)?n.delete(o):n.add(o),h(n)},m=(o,n)=>e.jsx("span",{style:{fontSize:11,padding:"2px 8px",borderRadius:12,background:n,color:"#111827",fontWeight:600},children:o}),c=(o,n=0)=>{var k,z,S;const f=s.has(o.id),v=Array.isArray(o.children)&&o.children.length>0,t={contractor:"#dcfce7",customer:"#fef9c3",center:"#ffedd5",crew:"#fee2e2"};return e.jsxs("div",{style:{marginBottom:4},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:12,borderRadius:8,cursor:v?"pointer":"default",background:"#fff",border:"1px solid #e5e7eb",paddingLeft:12+n*20,transition:"all 0.2s ease",":hover":v?{background:"#f9fafb"}:{}},onClick:()=>v&&y(o.id),children:[e.jsx("span",{style:{width:16,textAlign:"center",color:"#6b7280",fontSize:12},children:v?f?"â–¼":"â–¶":""}),e.jsx("span",{style:{padding:"4px 8px",borderRadius:6,background:t[o.type],fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:.5},children:o.type}),e.jsx("span",{style:{fontWeight:700,color:"#111827"},children:o.id}),e.jsxs("span",{style:{color:"#6b7280",marginRight:"auto"},children:["â€” ",o.name]}),e.jsxs("div",{style:{display:"flex",gap:6},children:[typeof((k=o.stats)==null?void 0:k.customers)=="number"&&m(`${o.stats.customers} customers`,"#e0f2fe"),typeof((z=o.stats)==null?void 0:z.centers)=="number"&&m(`${o.stats.centers} centers`,"#f3e8ff"),typeof((S=o.stats)==null?void 0:S.crew)=="number"&&m(`${o.stats.crew} crew`,"#fef3c7")]})]}),f&&v&&e.jsx("div",{style:{marginLeft:20,marginTop:4},children:o.children.map(_=>c(_,n+1))})]},`${o.type}-${o.id}`)};return p?e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:24,marginBottom:8},children:"â³"}),e.jsx("div",{children:"Loading ecosystem..."})]}):l?e.jsxs("div",{className:"ui-card",style:{padding:16,color:"#dc2626",border:"1px solid #fecaca",background:"#fef2f2"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:4},children:"Error Loading My Ecosystem"}),e.jsx("div",{style:{fontSize:14},children:l})]}):a.length?e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:"Ecosystem"}),e.jsxs("div",{className:"ui-card",style:{padding:0,overflow:"hidden"},children:[e.jsxs("div",{style:{padding:16,borderBottom:"1px solid #e5e7eb",background:"#f9fafb"},children:[e.jsx("div",{style:{fontWeight:700,marginBottom:4,color:"#111827"},children:"Your Business Network Overview"}),e.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:"Click any row with an arrow to expand and explore your network connections"})]}),e.jsx("div",{style:{padding:12},children:a.map(o=>c(o))}),e.jsxs("div",{style:{padding:12,borderTop:"1px solid #e5e7eb",background:"#f9fafb",display:"flex",gap:16,fontSize:12,color:"#6b7280",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{display:"inline-block",width:12,height:12,background:"#dcfce7",borderRadius:3}}),e.jsx("span",{children:"Contractor"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{display:"inline-block",width:12,height:12,background:"#fef9c3",borderRadius:3}}),e.jsx("span",{children:"Customer"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{display:"inline-block",width:12,height:12,background:"#ffedd5",borderRadius:3}}),e.jsx("span",{children:"Service Center"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[e.jsx("span",{style:{display:"inline-block",width:12,height:12,background:"#fee2e2",borderRadius:3}}),e.jsx("span",{children:"Crew Member"})]})]})]})]}):e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:"My Ecosystem"}),e.jsxs("div",{className:"ui-card",style:{padding:32,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:12},children:"ðŸŒ"}),e.jsx("div",{style:{fontSize:16,fontWeight:500,marginBottom:4},children:"No Network Connections Yet"}),e.jsxs("div",{style:{fontSize:12,color:"#6b7280",lineHeight:1.5},children:["Your business ecosystem will appear here as you connect with customers,",e.jsx("br",{}),"establish service centers, and assign crew members."]})]})]})}const T={status:[{orderId:"CEN001-ORD-SRV001",serviceName:"Window Cleaning",centerName:"Downtown Office Complex",centerId:"CEN001",customerId:"CUST-001",requestedBy:"Center Manager",createdBy:"center",requestDate:"2025-09-10",expectedStartDate:"2025-09-15",contractorStatus:"pending",customerStatus:"approved",managerStatus:"pending",priority:"high",description:"Weekly window cleaning for all floors"},{orderId:"CEN002-ORD-SRV003",serviceName:"Lawn Maintenance",centerName:"Westside Business Park",centerId:"CEN002",customerId:"CUST-002",requestedBy:"Facility Coordinator",createdBy:"customer",requestDate:"2025-09-09",expectedStartDate:"2025-09-20",contractorStatus:"approved",customerStatus:"approved",managerStatus:"pending",priority:"medium",description:"Bi-weekly lawn care and landscaping"}],progress:[{orderId:"CEN003-ORD-SRV002",serviceName:"HVAC Maintenance",centerName:"Tech Innovation Hub",centerId:"CEN003",customerId:"CUST-001",requestedBy:"Operations Manager",createdBy:"center",requestDate:"2025-09-08",expectedStartDate:"2025-09-18",contractorStatus:"approved",customerStatus:"approved",managerStatus:"pending",priority:"high",description:"Monthly HVAC system inspection and maintenance"},{orderId:"CEN001-ORD-SRV004",serviceName:"Security System Check",centerName:"Downtown Office Complex",centerId:"CEN001",customerId:"CUST-001",requestedBy:"Security Chief",createdBy:"center",requestDate:"2025-09-07",expectedStartDate:"2025-09-16",contractorStatus:"approved",customerStatus:"approved",managerStatus:"pending",priority:"high",description:"Weekly security system testing and maintenance"}],archive:[{orderId:"CEN004-ORD-SRV001",serviceName:"Window Cleaning",centerName:"Industrial Complex East",centerId:"CEN004",customerId:"CUST-003",approvedDate:"2025-09-05",becameServiceId:"CEN004-SRV001",description:"Bi-weekly window cleaning service"},{orderId:"CEN002-ORD-SRV002",serviceName:"HVAC Maintenance",centerName:"Westside Business Park",centerId:"CEN002",customerId:"CUST-002",approvedDate:"2025-09-03",becameServiceId:"CEN002-SRV002",description:"Monthly HVAC system maintenance"}]};function V({userId:j,config:W,features:R,api:B}){const[a,b]=d.useState("in_progress"),[s,h]=d.useState(""),[p,x]=d.useState(!1),[l,u]=d.useState(null),[y,m]=d.useState(null),c=(t,k)=>{u(t),setTimeout(()=>{m(`${k} action for ${t} completed successfully`),setTimeout(()=>m(null),3e3),u(null)},1e3)},n=(a==="in_progress"?[...T.status,...T.progress]:T[a]).filter(t=>t.orderId.toLowerCase().includes(s.toLowerCase())||t.serviceName.toLowerCase().includes(s.toLowerCase())||t.centerName.toLowerCase().includes(s.toLowerCase())),f=()=>e.jsx("div",{children:n.map(t=>e.jsxs("div",{className:"ui-card",style:{padding:16,marginBottom:12,border:"1px solid #e5e7eb"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[e.jsx("span",{style:{fontWeight:600,color:"#10b981",cursor:"pointer"},onClick:()=>alert(`Order details for ${t.orderId}`),children:t.orderId}),e.jsx("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:t.priority==="high"?"#fef2f2":t.priority==="medium"?"#e0f2fe":"#f0fdf4",color:t.priority==="high"?"#dc2626":t.priority==="medium"?"#0369a1":"#16a34a"},children:t.priority.toUpperCase()})]}),e.jsx("div",{style:{fontSize:16,fontWeight:600,marginBottom:4},children:t.serviceName})]}),e.jsxs("div",{style:{textAlign:"right",fontSize:12,color:"#6b7280"},children:[e.jsxs("div",{children:["Requested: ",t.requestDate]}),e.jsxs("div",{children:["Expected Start: ",t.expectedStartDate]})]})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[t.createdBy&&e.jsxs("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:"#e0f2fe",color:"#0369a1"},children:[t.createdBy.charAt(0).toUpperCase()+t.createdBy.slice(1)," Created"]}),e.jsxs("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:t.customerStatus==="approved"?"#dcfce7":"#fef2f2",color:t.customerStatus==="approved"?"#16a34a":"#dc2626"},children:["Customer: ",t.customerStatus]}),e.jsxs("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:t.contractorStatus==="approved"?"#dcfce7":"#fef2f2",color:t.contractorStatus==="approved"?"#16a34a":"#dc2626"},children:["Contractor: ",t.contractorStatus]}),e.jsxs("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:t.managerStatus==="approved"?"#dcfce7":t.managerStatus==="pending"?"#fef2f2":"#fef3c7",color:t.managerStatus==="approved"?"#16a34a":t.managerStatus==="pending"?"#dc2626":"#92400e"},children:["Manager: ",t.managerStatus||"pending"]})]}),e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsx("div",{style:{display:"flex",gap:8},children:t.contractorStatus==="pending"?e.jsxs(e.Fragment,{children:[e.jsx("button",{disabled:l===t.orderId,onClick:()=>c(t.orderId,"Approve"),style:{padding:"6px 12px",borderRadius:6,border:"none",background:"#10b981",color:"white",fontSize:12,fontWeight:600,cursor:l===t.orderId?"not-allowed":"pointer",opacity:l===t.orderId?.5:1},children:l===t.orderId?"Approving...":"Approve"}),e.jsx("button",{disabled:l===t.orderId,onClick:()=>c(t.orderId,"Deny"),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #ef4444",background:"white",color:"#ef4444",fontSize:12,fontWeight:600,cursor:l===t.orderId?"not-allowed":"pointer",opacity:l===t.orderId?.5:1},children:l===t.orderId?"Denying...":"Deny"})]}):e.jsx("button",{onClick:()=>alert(`Order details for ${t.orderId}`),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #d1d5db",background:"white",color:"#374151",fontSize:12,fontWeight:600,cursor:"pointer"},children:"View Details"})})})]},t.orderId))}),v=()=>e.jsx("div",{children:n.map(t=>e.jsx("div",{className:"ui-card",style:{padding:16,marginBottom:12,border:"1px solid #e5e7eb"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[e.jsx("span",{style:{fontWeight:600,color:"#6b7280",cursor:"pointer"},onClick:()=>alert(`Archived order details for ${t.orderId}`),children:t.orderId}),e.jsx("span",{style:{fontSize:12,color:"#6b7280"},children:"â†’"}),e.jsx("span",{style:{fontWeight:600,color:"#10b981",cursor:"pointer"},onClick:()=>alert(`Service details for ${t.becameServiceId}`),children:t.becameServiceId})]}),e.jsx("div",{style:{fontSize:16,fontWeight:600,marginBottom:4},children:t.serviceName})]}),e.jsx("div",{style:{textAlign:"right",fontSize:12,color:"#6b7280"},children:e.jsxs("div",{children:["Approved: ",t.approvedDate]})})]})},t.orderId))});return e.jsxs("div",{children:[y&&e.jsx("div",{style:{marginBottom:16,padding:"8px 12px",background:"#ecfdf5",color:"#065f46",border:"1px solid #a7f3d0",borderRadius:6,fontSize:13},children:y}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,margin:0},children:"Order Management"}),e.jsx("input",{type:"text",placeholder:"Search orders (max 10 results)...",value:s,onChange:t=>h(t.target.value),style:{padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14,width:250}})]}),e.jsx("div",{style:{display:"flex",gap:8,marginBottom:16},children:[{key:"in_progress",label:"In Progress"},{key:"archive",label:"Archive"}].map(t=>e.jsx("button",{onClick:()=>b(t.key),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #e5e7eb",background:a===t.key?"#10b981":"white",color:a===t.key?"white":"#111827",fontSize:13,fontWeight:600,cursor:"pointer"},children:t.label},t.key))}),e.jsx("div",{style:{marginBottom:16},children:n.length===0?e.jsx("div",{className:"ui-card",style:{padding:16},children:e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280",background:"#f9fafb",borderRadius:8},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"ðŸ“‹"}),e.jsx("div",{style:{fontSize:16,fontWeight:500,marginBottom:4},children:s?"No matching orders found":`No Orders in ${a}`}),e.jsxs("div",{style:{fontSize:12,marginTop:4,lineHeight:1.5},children:[a==="in_progress"&&"Orders in progress and pending approvals will appear here.",a==="archive"&&"Completed orders that became active services can be found here."]})]})}):e.jsxs("div",{children:[a==="in_progress"&&f(),a==="archive"&&v()]})}),e.jsxs("div",{style:{fontSize:12,color:"#6b7280",textAlign:"center",paddingTop:8},children:["Showing ",Math.min(n.length,10)," of ",n.length," orders"]})]})}function U({userId:j,config:W,features:R,api:B}){const[a,b]=d.useState("reports"),[s,h]=d.useState([]),[p,x]=d.useState([]),[l,u]=d.useState({}),[y,m]=d.useState({}),[c,o]=d.useState(!1),[n,f]=d.useState(""),[v,t]=d.useState(""),[k,z]=d.useState(!1),[S,_]=d.useState(null),[r,C]=d.useState(!1),[w,A]=d.useState(null);d.useEffect(()=>{(async()=>{try{o(!0),a==="reports"?(h([{report_id:"RPT-001",title:"Equipment Maintenance Issue",type:"equipment",severity:"medium",status:"open",created_by_role:"crew",created_by_id:"CRW-001",created_at:"2025-01-09T10:30:00Z",description:"Cleaning equipment needs maintenance at downtown location"},{report_id:"RPT-002",title:"Service Quality Concern",type:"quality",severity:"high",status:"in_progress",created_by_role:"customer",created_by_id:"CUS-001",created_at:"2025-01-08T14:15:00Z",description:"Customer reported quality issues with recent service"}]),u({open:1,in_progress:1,resolved:0,closed:0})):(x([{feedback_id:"FDB-001",title:"Excellent Service Quality",kind:"praise",created_by_role:"customer",created_by_id:"CUS-001",created_at:"2025-01-08T16:45:00Z",message:"Outstanding cleaning service. Very professional team.",center_id:"CTR-001"},{feedback_id:"FDB-002",title:"Schedule Change Request",kind:"request",created_by_role:"customer",created_by_id:"CUS-002",created_at:"2025-01-07T11:20:00Z",message:"Would like to adjust our weekly cleaning schedule.",center_id:"CTR-003"}]),m({praise:1,request:1,issue:0}))}catch(g){console.error("Error loading data:",g)}finally{o(!1)}})()},[a,j]);const L=async i=>{try{z(!0),_(null);const g=s.find(N=>N.report_id===i);if(!g)return;_({report:g,comments:[{comment_id:"COM-001",commenter_role:"manager",commenter_id:"MGR-001",content:"Looking into this issue. Will follow up with the team.",created_at:"2025-01-09T11:00:00Z"}]})}catch(g){console.error("Error loading report detail:",g),_(null)}},E=()=>{z(!1),_(null)},M=async i=>{try{C(!0),A(null);const g=p.find(D=>D.feedback_id===i);A(g||null)}catch(g){console.error("Error loading feedback detail:",g),A(null)}},O=()=>{C(!1),A(null)},I=async(i,g)=>{i.trim()&&(g==="report"?await L(i):await M(i))};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,margin:0},children:"Reports & Feedback"}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{onClick:()=>b("reports"),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #e5e7eb",background:a==="reports"?"#10b981":"white",color:a==="reports"?"white":"#111827",fontSize:14,fontWeight:600,cursor:"pointer"},children:"Reports"}),e.jsx("button",{onClick:()=>b("feedback"),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #e5e7eb",background:a==="feedback"?"#10b981":"white",color:a==="feedback"?"white":"#111827",fontSize:14,fontWeight:600,cursor:"pointer"},children:"Feedback"})]})]}),a==="reports"?e.jsxs("div",{children:[e.jsx("div",{style:{display:"flex",gap:8,marginBottom:16,flexWrap:"wrap"},children:[{key:"open",label:"Open",value:l.open,color:"#ef4444"},{key:"in_progress",label:"In Progress",value:l.in_progress,color:"#f59e0b"},{key:"resolved",label:"Resolved",value:l.resolved,color:"#10b981"},{key:"closed",label:"Closed",value:l.closed,color:"#6b7280"}].map(({key:i,label:g,value:D,color:N})=>e.jsxs("span",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:16,padding:"6px 12px",fontSize:12,fontWeight:600,color:N},children:[g,": ",D||0]},i))}),e.jsx("div",{className:"ui-card",style:{padding:0,overflow:"hidden"},children:c?e.jsxs("div",{style:{padding:40,textAlign:"center",color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:24,marginBottom:8},children:"â³"}),e.jsx("div",{children:"Loading reports..."})]}):s.length===0?e.jsxs("div",{style:{padding:40,textAlign:"center",color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"ðŸ“Š"}),e.jsx("div",{style:{fontSize:16,fontWeight:500,marginBottom:4},children:"No Reports"}),e.jsx("div",{style:{fontSize:12},children:"Business reports and issues will appear here"})]}):e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f9fafb"},children:[e.jsx("th",{style:{padding:12,textAlign:"left",fontSize:12,fontWeight:600},children:"Title"}),e.jsx("th",{style:{padding:12,textAlign:"left",fontSize:12,fontWeight:600},children:"Type"}),e.jsx("th",{style:{padding:12,textAlign:"left",fontSize:12,fontWeight:600},children:"Severity"}),e.jsx("th",{style:{padding:12,textAlign:"left",fontSize:12,fontWeight:600},children:"Status"}),e.jsx("th",{style:{padding:12,textAlign:"left",fontSize:12,fontWeight:600},children:"Reported By"}),e.jsx("th",{style:{padding:12,textAlign:"left",fontSize:12,fontWeight:600},children:"Created"})]})}),e.jsx("tbody",{children:s.map((i,g)=>e.jsxs("tr",{onClick:()=>L(i.report_id),style:{cursor:"pointer",borderBottom:g<s.length-1?"1px solid #e5e7eb":"none",":hover":{background:"#f9fafb"}},children:[e.jsx("td",{style:{padding:12,fontWeight:600},children:i.title}),e.jsx("td",{style:{padding:12,textTransform:"capitalize"},children:i.type}),e.jsx("td",{style:{padding:12},children:i.severity?e.jsx("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:i.severity==="high"?"#fef2f2":i.severity==="medium"?"#fef3c7":"#f0fdf4",color:i.severity==="high"?"#dc2626":i.severity==="medium"?"#d97706":"#059669"},children:i.severity}):"â€”"}),e.jsx("td",{style:{padding:12,textTransform:"capitalize"},children:i.status.replace("_"," ")}),e.jsxs("td",{style:{padding:12,fontSize:12,color:"#6b7280"},children:[i.created_by_role,":",i.created_by_id]}),e.jsx("td",{style:{padding:12,fontSize:12},children:new Date(i.created_at).toLocaleDateString()})]},i.report_id))})]})})]}):e.jsxs("div",{children:[e.jsx("div",{style:{display:"flex",gap:8,marginBottom:16,flexWrap:"wrap"},children:[{key:"praise",label:"Praise",value:y.praise,color:"#10b981"},{key:"request",label:"Requests",value:y.request,color:"#3b7af7"},{key:"issue",label:"Issues",value:y.issue,color:"#ef4444"}].map(({key:i,label:g,value:D,color:N})=>e.jsxs("span",{style:{background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:16,padding:"6px 12px",fontSize:12,fontWeight:600,color:N},children:[g,": ",D||0]},i))}),e.jsx("div",{className:"ui-card",style:{padding:0,overflow:"hidden"},children:c?e.jsxs("div",{style:{padding:40,textAlign:"center",color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:24,marginBottom:8},children:"â³"}),e.jsx("div",{children:"Loading feedback..."})]}):p.length===0?e.jsxs("div",{style:{padding:40,textAlign:"center",color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"ðŸ’¬"}),e.jsx("div",{style:{fontSize:16,fontWeight:500,marginBottom:4},children:"No Feedback"}),e.jsx("div",{style:{fontSize:12},children:"Customer feedback will appear here"})]}):e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f9fafb"},children:[e.jsx("th",{style:{padding:12,textAlign:"left",fontSize:12,fontWeight:600},children:"Title"}),e.jsx("th",{style:{padding:12,textAlign:"left",fontSize:12,fontWeight:600},children:"Type"}),e.jsx("th",{style:{padding:12,textAlign:"left",fontSize:12,fontWeight:600},children:"From"}),e.jsx("th",{style:{padding:12,textAlign:"left",fontSize:12,fontWeight:600},children:"Center"}),e.jsx("th",{style:{padding:12,textAlign:"left",fontSize:12,fontWeight:600},children:"Created"})]})}),e.jsx("tbody",{children:p.map((i,g)=>e.jsxs("tr",{onClick:()=>M(i.feedback_id),style:{cursor:"pointer",borderBottom:g<p.length-1?"1px solid #e5e7eb":"none",":hover":{background:"#f9fafb"}},children:[e.jsx("td",{style:{padding:12,fontWeight:600},children:i.title}),e.jsx("td",{style:{padding:12},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:i.kind==="praise"?"#dcfce7":i.kind==="request"?"#dbeafe":"#fef2f2",color:i.kind==="praise"?"#059669":i.kind==="request"?"#2563eb":"#dc2626"},children:i.kind})}),e.jsxs("td",{style:{padding:12,fontSize:12,color:"#6b7280"},children:[i.created_by_role,":",i.created_by_id]}),e.jsx("td",{style:{padding:12},children:i.center_id||"â€”"}),e.jsx("td",{style:{padding:12,fontSize:12},children:new Date(i.created_at).toLocaleDateString()})]},i.feedback_id))})]})})]}),e.jsxs("div",{className:"ui-card",style:{padding:16,marginTop:16},children:[e.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:12},children:"Archive Search"}),e.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",alignItems:"center"},children:[e.jsx("input",{placeholder:"Report ID (e.g., RPT-1001)",value:n,onChange:i=>f(i.target.value),onKeyDown:i=>{i.key==="Enter"&&I(n,"report")},style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,minWidth:200,fontSize:13}}),e.jsx("button",{onClick:()=>I(n,"report"),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,background:"white",cursor:"pointer",fontSize:13},children:"Open Report"}),e.jsx("input",{placeholder:"Feedback ID (e.g., FDB-1001)",value:v,onChange:i=>t(i.target.value),onKeyDown:i=>{i.key==="Enter"&&I(v,"feedback")},style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,minWidth:200,fontSize:13}}),e.jsx("button",{onClick:()=>I(v,"feedback"),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,background:"white",cursor:"pointer",fontSize:13},children:"Open Feedback"})]})]}),k&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},onClick:E,children:e.jsxs("div",{className:"ui-card",style:{width:720,maxWidth:"90%",padding:24},onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[e.jsx("h3",{style:{fontSize:18,fontWeight:700,margin:0},children:"Report Detail"}),e.jsx("button",{onClick:E,style:{padding:"6px 8px",border:"1px solid #e5e7eb",borderRadius:4,background:"white",cursor:"pointer"},children:"âœ•"})]}),S?e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("h4",{style:{fontSize:16,fontWeight:600,marginBottom:8},children:S.report.title}),e.jsxs("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8},children:[S.report.type," â€¢ ",S.report.severity," â€¢ ",S.report.status]}),e.jsx("div",{style:{fontSize:14,whiteSpace:"pre-wrap",lineHeight:1.5},children:S.report.description||"No description provided."})]}),e.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:16},children:[e.jsx("h5",{style:{fontSize:14,fontWeight:600,marginBottom:8},children:"Comments:"}),e.jsx("div",{style:{maxHeight:200,overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:6,padding:12},children:S.comments.length===0?e.jsx("div",{style:{color:"#6b7280",fontSize:13},children:"No comments yet."}):S.comments.map(i=>e.jsxs("div",{style:{marginBottom:12,paddingBottom:12,borderBottom:"1px solid #f3f4f6"},children:[e.jsxs("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:[i.commenter_role,":",i.commenter_id," â€¢ ",new Date(i.created_at).toLocaleString()]}),e.jsx("div",{style:{fontSize:13},children:i.content})]},i.comment_id))})]})]}):e.jsx("div",{style:{color:"#6b7280",textAlign:"center",padding:20},children:"Loading..."})]})}),r&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},onClick:O,children:e.jsxs("div",{className:"ui-card",style:{width:600,maxWidth:"90%",padding:24},onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},children:[e.jsx("h3",{style:{fontSize:18,fontWeight:700,margin:0},children:"Feedback Detail"}),e.jsx("button",{onClick:O,style:{padding:"6px 8px",border:"1px solid #e5e7eb",borderRadius:4,background:"white",cursor:"pointer"},children:"âœ•"})]}),w?e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:16,fontWeight:600,marginBottom:8},children:w.title}),e.jsxs("div",{style:{fontSize:12,color:"#6b7280",marginBottom:12},children:[w.kind," â€¢ ",w.center_id||w.customer_id," â€¢ ",new Date(w.created_at).toLocaleDateString()]}),e.jsx("div",{style:{fontSize:14,whiteSpace:"pre-wrap",lineHeight:1.5,marginBottom:12},children:w.message||"No message provided."}),e.jsxs("div",{style:{fontSize:12,color:"#6b7280"},children:["From: ",w.created_by_role,":",w.created_by_id]})]}):e.jsx("div",{style:{color:"#6b7280",textAlign:"center",padding:20},children:"Loading..."})]})})]})}function $({userId:j,config:W,features:R,api:B}){const[a,b]=d.useState("knowledge"),[s,h]=d.useState({issue_type:"bug",priority:"medium",subject:"",description:"",steps_to_reproduce:""}),p=l=>{if(l.preventDefault(),!s.subject||!s.description){alert("Please fill in subject and description");return}const u=`TKT-${Date.now()}`;console.log("Submitting support ticket to admin hub:",{...s,ticketId:u,userId:j}),alert(`Support ticket ${u} submitted successfully!

You will receive an email confirmation shortly.`),h({issue_type:"bug",priority:"medium",subject:"",description:"",steps_to_reproduce:""})},x=()=>{h({issue_type:"bug",priority:"medium",subject:"",description:"",steps_to_reproduce:""})};return e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:"Support Center"}),e.jsx("div",{style:{display:"flex",gap:8,marginBottom:16},children:[{key:"knowledge",label:"Knowledge Base"},{key:"tickets",label:"My Tickets"},{key:"contact",label:"Contact Support"}].map(l=>e.jsx("button",{onClick:()=>b(l.key),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #e5e7eb",background:a===l.key?"#3b7af7":"white",color:a===l.key?"white":"#111827",fontSize:13,fontWeight:600,cursor:"pointer"},children:l.label},l.key))}),e.jsxs("div",{className:"ui-card",style:{padding:16},children:[a==="knowledge"&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:12},children:"Frequently Asked Questions"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[{q:"How do I schedule a new service request?",a:'Navigate to Orders â†’ Needs Scheduling and click "Schedule" on any pending request.'},{q:"How can I view my ecosystem network?",a:"Go to My Ecosystem tab to see your business network and relationships."},{q:"Where do I manage my services?",a:"Use the My Services tab to add, edit, or remove services you offer."},{q:"How do I access reports and feedback?",a:"Check the Reports tab for all analytics, reports, and customer feedback."},{q:"How do I update my profile information?",a:"Go to My Profile tab to update your contact details, settings, and preferences."},{q:"What should I do if I encounter a technical issue?",a:"Submit a support ticket using the Contact Support tab with detailed information about the problem."}].map((l,u)=>e.jsxs("div",{style:{padding:12,background:"#f9fafb",borderRadius:6,border:"1px solid #e5e7eb"},children:[e.jsx("div",{style:{fontSize:14,fontWeight:600,marginBottom:4,color:"#111827"},children:l.q}),e.jsx("div",{style:{fontSize:13,color:"#6b7280",lineHeight:1.5},children:l.a})]},u))})]}),a==="tickets"&&e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280",background:"#f9fafb",borderRadius:8},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"ðŸŽ«"}),e.jsx("div",{style:{fontSize:16,fontWeight:500,marginBottom:4},children:"No Support Tickets"}),e.jsxs("div",{style:{fontSize:12,marginTop:4,lineHeight:1.5},children:["Your submitted support tickets will appear here.",e.jsx("br",{}),"You can track status and responses from our support team."]})]}),a==="contact"&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:12},children:"Submit Support Request"}),e.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,marginBottom:4,color:"#374151"},children:"Issue Type"}),e.jsxs("select",{value:s.issue_type,onChange:l=>h({...s,issue_type:l.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,fontSize:13},children:[e.jsx("option",{value:"bug",children:"Bug Report"}),e.jsx("option",{value:"how_to",children:"How-To Question"}),e.jsx("option",{value:"feature_question",children:"Feature Question"}),e.jsx("option",{value:"account_issue",children:"Account Issue"}),e.jsx("option",{value:"business_support",children:"Business Support"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,marginBottom:4,color:"#374151"},children:"Priority Level"}),e.jsxs("select",{value:s.priority,onChange:l=>h({...s,priority:l.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,fontSize:13},children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,marginBottom:4,color:"#374151"},children:"Subject"}),e.jsx("input",{type:"text",value:s.subject,onChange:l=>h({...s,subject:l.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,fontSize:13},placeholder:"Brief description of your issue or question",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,marginBottom:4,color:"#374151"},children:"Detailed Description"}),e.jsx("textarea",{value:s.description,onChange:l=>h({...s,description:l.target.value}),maxLength:1e4,rows:5,style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,fontSize:13,resize:"none",boxSizing:"border-box"},placeholder:"Please provide detailed information about your issue, including any error messages or specific problems you're experiencing",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,marginBottom:4,color:"#374151"},children:"Steps to Reproduce (if applicable)"}),e.jsx("textarea",{value:s.steps_to_reproduce,onChange:l=>h({...s,steps_to_reproduce:l.target.value}),maxLength:5e3,rows:3,style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,fontSize:13,resize:"none",boxSizing:"border-box"},placeholder:"If this is a bug report, please list the specific steps to reproduce the issue"})]}),e.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",style:{padding:"8px 16px",borderRadius:6,border:"1px solid #e5e7eb",background:"white",color:"#374151",fontSize:13,fontWeight:500,cursor:"pointer"},onClick:x,children:"Clear"}),e.jsx("button",{type:"submit",style:{padding:"8px 16px",borderRadius:6,border:"none",background:"#3b7af7",color:"white",fontSize:13,fontWeight:500,cursor:"pointer"},children:"Submit Ticket"})]})]}),e.jsxs("div",{style:{marginTop:24,padding:16,background:"#f0f9ff",borderRadius:8,border:"1px solid #0ea5e9"},children:[e.jsx("div",{style:{fontSize:13,fontWeight:500,color:"#0c4a6e",marginBottom:8},children:"Need immediate assistance?"}),e.jsxs("div",{style:{fontSize:12,color:"#075985",lineHeight:1.5},children:["For urgent issues, call our support hotline: ",e.jsx("strong",{children:"(555) 123-4567"}),e.jsx("br",{}),"Email: ",e.jsx("strong",{children:"support@cks-portal.com"}),e.jsx("br",{}),"Hours: Monday - Friday, 8:00 AM - 6:00 PM EST"]})]})]})]})]})}const G={Dashboard:q,MyProfile:F,MyServices:P,Ecosystem:H,Orders:V,Reports:U,Support:$},K={},Y={components:G,utilityComponents:K,role:"contractor",version:"1.0.0"};export{G as components,Y as default,K as utilityComponents};
