import{r as h,j as e}from"./index-BQuiXMlq.js";const M="/api/manager",E=M,T=E.replace(/\/+$/,"");function _(l,x={}){let f=T+l;const y=new URLSearchParams;for(const[d,r]of Object.entries(x))r!=null&&r!==""&&y.set(d,String(r));const i=y.toString();return i&&(f+="?"+i),f}function L(){var l,x,f,y,i;try{const d=typeof window<"u"?window:null,r=((x=(l=d==null?void 0:d.Clerk)==null?void 0:l.user)==null?void 0:x.id)||((i=(y=(f=d==null?void 0:d.Clerk)==null?void 0:f.session)==null?void 0:y.user)==null?void 0:i.id)||null;return r?String(r):null}catch{return null}}async function W(l,x={}){let f=null,y=!1;try{y=sessionStorage.getItem("impersonate")==="true",y&&(f=sessionStorage.getItem("me:lastCode")||sessionStorage.getItem("manager:lastCode"))}catch{}const i=y&&f?f:L(),d=new Headers(x.headers||{});i&&!d.has("x-manager-user-id")&&d.set("x-manager-user-id",i),i&&!d.has("x-user-id")&&d.set("x-user-id",i);try{const s=sessionStorage.getItem("me:lastRole");y&&s&&!d.has("x-user-role")&&d.set("x-user-role",s)}catch{}d.has("Accept")||d.set("Accept","application/json"),d.has("x-hub-type")||d.set("x-hub-type","manager");const r={credentials:"include",...x,headers:d};try{const s=await fetch(l,r);return console.debug("[managerApiFetch]",{url:l,status:s.status}),s}catch(s){throw console.error("[managerApiFetch] error",{url:l,error:s}),s}}function I({code:l}){const[x,f]=h.useState([]),[y,i]=h.useState(!1);async function d(){if(confirm("Are you sure you want to clear your recent activity? This action cannot be undone."))try{const s=await fetch(`/api/manager/clear-activity?code=${encodeURIComponent(l)}`,{method:"POST",credentials:"include"}),u=await s.json();if(!s.ok||!(u!=null&&u.success))throw new Error((u==null?void 0:u.error)||"Failed to clear activity");f([])}catch(r){console.error("Failed to clear activity:",r),alert("Failed to clear activity: "+((r==null?void 0:r.message)||"Unknown error"))}}return h.useEffect(()=>{let r=!1;return(async()=>{try{i(!0);const u=`/api/manager/activity?code=${encodeURIComponent(l)}`,p=await fetch(u,{credentials:"include"}),n=await p.json();if(!p.ok){console.error("Failed to load manager activities:",n==null?void 0:n.error),r||f([]);return}r||f(Array.isArray(n==null?void 0:n.data)?n.data.slice(0,5):[])}catch(s){console.error("[ManagerRecentActions] fetch error:",s),r||f([])}finally{r||i(!1)}})(),()=>{r=!0}},[l]),e.jsxs("div",{className:"ui-card",style:{padding:16,marginBottom:24},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#3b7af7"},children:"Recent Activity"}),x.length>0&&e.jsx("button",{onClick:d,style:{padding:"4px 8px",fontSize:11,background:"#ef4444",color:"#fff",border:"none",borderRadius:4,cursor:"pointer",fontWeight:600},children:"Clear"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:y?e.jsx("div",{style:{textAlign:"center",padding:20,color:"#6b7280"},children:"Loading recent actions..."}):x.length>0?x.map(r=>{const s=String(r.activity_type||"");if(s==="user_welcome"||s==="welcome_message")return e.jsx("div",{style:{padding:12,background:"#ecfdf5",borderRadius:8,borderLeft:"4px solid #10b981"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#065f46"},children:r.description}),e.jsxs("div",{style:{fontSize:12,color:"#047857"},children:["Welcome â€¢ ",new Date(r.created_at).toLocaleString()]})]}),e.jsx("button",{style:{padding:"6px 10px",fontSize:12,background:"#10b981",color:"white",border:"none",borderRadius:6,cursor:"pointer"},onClick:()=>alert("Interactive walkthrough coming soon!"),children:"Launch Walkthrough"})]})},r.activity_id);if(s==="contractor_assigned"){const p=(r==null?void 0:r.metadata)||{};return e.jsxs("div",{style:{padding:12,background:"#eff6ff",borderRadius:8,borderLeft:"4px solid #3b82f6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#1e3a8a"},children:r.description}),e.jsxs("div",{style:{fontSize:12,color:"#1d4ed8"},children:["Assignment â€¢ ",new Date(r.created_at).toLocaleString()]})]}),(p==null?void 0:p.action_link)&&e.jsx("button",{style:{padding:"6px 10px",fontSize:12,background:"#1d4ed8",color:"white",border:"none",borderRadius:6,cursor:"pointer"},onClick:()=>{try{const n=p==null?void 0:p.contractor_id;console.log("Contractor ID from metadata:",n),console.log("Full metadata:",p),n?(sessionStorage.setItem("me:lastRole","contractor"),sessionStorage.setItem("me:lastCode",n),sessionStorage.setItem("impersonate","true"),window.open(`/${n}/hub`,"_blank")):console.error("No contractor_id found in metadata")}catch(n){console.error("Navigation error:",n)}},children:"View Contractor"})]},r.activity_id)}return e.jsxs("div",{style:{padding:12,background:"#f8fafc",borderRadius:8,borderLeft:"3px solid #3b7af7",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:14,fontWeight:500,marginBottom:2},children:r.description}),e.jsxs("div",{style:{fontSize:12,color:"#6b7280"},children:[r.activity_type," â€¢ ",r.actor_role]})]}),e.jsx("div",{style:{fontSize:11,color:"#9ca3af"},children:new Date(r.created_at).toLocaleDateString()})]},r.activity_id)}):e.jsxs("div",{style:{textAlign:"center",padding:32,color:"#6b7280",background:"#f9fafb",borderRadius:8},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"ðŸ“‹"}),e.jsx("div",{style:{fontSize:14,fontWeight:500},children:"No recent actions"}),e.jsx("div",{style:{fontSize:12,marginTop:4},children:"Manager actions will appear here as they occur"})]})})]})}function O({userId:l,config:x,features:f,api:y}){const[i,d]=h.useState({contractors:0,customers:0,centers:0,crew:0}),[r,s]=h.useState(!1),u=l;return h.useEffect(()=>{let p=!1;return(async()=>{var n,v,S,t;try{s(!0);const b=_("/dashboard",{code:u}),a=await W(b);if(!a.ok)throw new Error(String(a.status));const c=await a.json();!p&&(c!=null&&c.success)&&d({contractors:((n=c.data)==null?void 0:n.contractors)||0,customers:((v=c.data)==null?void 0:v.customers)||0,centers:((S=c.data)==null?void 0:S.centers)||0,crew:((t=c.data)==null?void 0:t.crew)||0})}catch(b){console.error("Failed to load dashboard metrics:",b),p||d({contractors:0,customers:0,centers:0,crew:0})}finally{p||s(!1)}})(),()=>{p=!0}},[u]),e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:"Overview"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",gap:16,marginBottom:24},children:[{title:"My Contractors",value:r?"â€”":String(i.contractors),subtitle:"Total contractors managed",color:"#3b7af7"},{title:"My Customers",value:r?"â€”":String(i.customers),subtitle:"Total customers served",color:"#10b981"},{title:"My Centers",value:r?"â€”":String(i.centers),subtitle:"Service centers managed",color:"#8b5cf6"},{title:"My Crew",value:r?"â€”":String(i.crew),subtitle:"Total crew members",color:"#f59e0b"},{title:"Pending Orders",value:r?"â€”":"7",subtitle:"Orders requiring attention",color:"#ef4444"},{title:"Account Status",value:r?"â€”":"Active",subtitle:"Current account status",color:"#10b981"}].map(p=>e.jsxs("div",{className:"ui-card",style:{padding:16,textAlign:"center"},children:[e.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:4},children:p.title}),e.jsx("div",{style:{fontSize:32,fontWeight:700,color:p.color,marginBottom:2},children:p.value}),e.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:p.subtitle})]},p.title))}),e.jsx(I,{code:u}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginTop:24},children:[e.jsxs("div",{className:"ui-card",style:{padding:16},children:[e.jsx("div",{className:"title",style:{marginBottom:16,color:"#3b7af7",display:"flex",alignItems:"center",gap:8},children:"ðŸ“° News & Updates"}),e.jsxs("div",{style:{textAlign:"center",padding:20,color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:32,marginBottom:8},children:"ðŸ“°"}),e.jsx("div",{style:{fontSize:14,fontWeight:500,marginBottom:4},children:"No Recent News"}),e.jsx("div",{style:{fontSize:12},children:"Company news and updates will appear here"})]}),e.jsx("button",{style:{width:"100%",padding:"8px 16px",fontSize:12,backgroundColor:"#dbeafe",color:"#3b7af7",border:"1px solid #3b82f6",borderRadius:4,cursor:"pointer",marginTop:8,fontWeight:500},onClick:()=>alert("Full News - Coming Soon!"),children:"View All News"})]}),e.jsxs("div",{className:"ui-card",style:{padding:16},children:[e.jsx("div",{className:"title",style:{marginBottom:16,color:"#3b7af7",display:"flex",alignItems:"center",gap:8},children:"ðŸ“¬ Mail"}),e.jsxs("div",{style:{textAlign:"center",padding:20,color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:32,marginBottom:8},children:"ðŸ“§"}),e.jsx("div",{style:{fontSize:14,fontWeight:500,marginBottom:4},children:"No Messages"}),e.jsx("div",{style:{fontSize:12},children:"Internal messages and notifications will appear here"})]}),e.jsx("button",{style:{width:"100%",padding:"8px 16px",fontSize:12,backgroundColor:"#dbeafe",color:"#3b7af7",border:"1px solid #3b82f6",borderRadius:4,cursor:"pointer",marginTop:8,fontWeight:500},onClick:()=>alert("Full Mailbox - Coming Soon!"),children:"View Mailbox"})]})]})]})}function P(){return{user:{id:"test-manager-001",username:"manager-test"}}}function F(){const{user:l}=P(),[x,f]=h.useState({loading:!0,error:null,kind:"manager",data:null}),y=h.useRef(!1),i=h.useCallback(async()=>{try{f(m=>({...m,loading:!0,error:null}));let s=new URLSearchParams(window.location.search).get("code")||void 0;const u=window.location.pathname.match(/\/(MGR-\d+)\/hub/i);u&&u[1]&&(s=u[1].toUpperCase(),console.debug("[useManagerData] extracted manager ID from path:",s));const p=l!=null&&l.id?void 0:R("manager:lastCode")||void 0,n=(l==null?void 0:l.username)||"";if(n.includes("-000")||n==="mgr-000"||n==="MGR-000"){const m=z(n||"MGR-000");f({loading:!1,error:null,kind:"manager",data:m,_source:"template-user"}),console.debug("[useManagerData]",{source:"template-user",username:n,data:m});return}const v=_("/profile",s?{code:s}:{});console.debug("[useManagerData] fetching",v,"with codeOverride:",s);const S={};s&&(S.headers={"x-user-id":s,"x-manager-user-id":s});const t=await W(v,S);let b=await t.json();console.debug("[useManagerData] response",{status:t.status,data:b});let a="/manager-api/profile";if(t.status===404){const m=["/me","/manager/me","/profile"];let g=null,j=null;for(const k of m)try{const w=await W(_(k));if(console.debug("[useManagerData] trying fallback",{url:k,status:w==null?void 0:w.status}),w.ok){g=await w.json().catch(()=>null),j=k;break}}catch(w){console.debug("[useManagerData] fallback error",{url:k,error:w.message})}g||(g=z(),j="stub:manager"),b=g,a=j||"404-fallback"}if(!t.ok&&t.status!==404){const m=String((b==null?void 0:b.error)||`HTTP ${t.status}`);if(!(l!=null&&l.id)||t.status>=500||/Failed to fetch|NetworkError|ECONNREFUSED/i.test(m)){const g=z(R("manager:lastCode")||void 0);f({loading:!1,error:null,kind:"manager",data:g,_source:"soft-fallback"});return}f({loading:!1,error:m,kind:"",data:null,_source:a});return}let c=(b==null?void 0:b.data)||b||{};c.manager_id||(c.manager_id="MGR-000"),c.name||(c.name="Manager Demo"),f({loading:!1,error:null,kind:"manager",data:c,_source:a}),console.debug("[useManagerData] success",{source:a,hasData:!!c})}catch(r){const s=(r==null?void 0:r.message)||String(r);if(/Failed to fetch|NetworkError|ECONNREFUSED/i.test(s)){const p=new URLSearchParams(window.location.search).get("code")||void 0,n=R("manager:lastCode")||void 0,v=z(p||n);f({loading:!1,error:null,kind:"manager",data:v,_source:"network-fallback"});return}f({loading:!1,error:s,kind:"",data:null,_source:"error"})}},[l]);h.useEffect(()=>{y.current||(y.current=!0,i())},[i]);const d=h.useCallback(()=>{y.current=!1,i()},[i]);return{loading:x.loading,error:x.error,kind:x.kind,data:x.data,refetch:d}}function z(l){return{manager_id:l||"mgr-000",name:"Manager Demo",code:l||"mgr-000",territory:"Demo Territory",reports_to:"Senior Manager",email:"manager@demo.com",phone:"(555) 123-4567",start_date:"2024-01-01",role:"Territory Manager",_stub:!0}}function R(l){try{return localStorage.getItem(l)}catch{return null}}function q({userId:l,config:x,features:f,api:y}){var p,n,v,S,t,b,a,c;const i=F(),[d,r]=h.useState(0),s=l,u=((p=i.data)==null?void 0:p.name)||"Manager Demo";return e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:"Manager Profile"}),e.jsx("div",{style:{display:"flex",gap:8,marginBottom:16,flexWrap:"wrap"},children:["Profile","Settings"].map((m,g)=>e.jsx("button",{onClick:()=>r(g),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #e5e7eb",background:d===g?"#3b7af7":"white",color:d===g?"white":"#111827",fontSize:12,cursor:"pointer"},children:m},m))}),e.jsxs("div",{className:"ui-card",style:{padding:16},children:[d===0&&e.jsxs("div",{style:{display:"flex",gap:32},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:150,height:150,borderRadius:"50%",background:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:48,color:"#6b7280",fontWeight:"bold",marginBottom:16},children:u.split(" ").map(m=>m[0]).join("").toUpperCase().substring(0,2)||"MD"}),e.jsx("button",{style:{padding:"8px 16px",background:"white",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:6,fontSize:14,fontWeight:500,cursor:"pointer"},children:"Update Photo"})]}),e.jsx("div",{style:{flex:1},children:e.jsx("table",{style:{width:"100%",borderSpacing:"0 16px"},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,width:"200px",verticalAlign:"top"},children:"Full Name"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:((n=i.data)==null?void 0:n.name)||"Manager Demo"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Manager ID"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:((v=i.data)==null?void 0:v.manager_id)||s})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Territory"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:((S=i.data)==null?void 0:S.territory)||"Demo Territory"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Reports To"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:((t=i.data)==null?void 0:t.reports_to)||"Senior Manager"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Email"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:((b=i.data)==null?void 0:b.email)||"manager@demo.com"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Phone"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:((a=i.data)==null?void 0:a.phone)||"(555) 123-4567"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Start Date"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:(()=>{var m,g;try{if(!((m=i.data)!=null&&m.start_date))return"â€”";const j=new Date(i.data.start_date);return isNaN(j.getTime())?String(i.data.start_date):j.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"2-digit"})}catch{return String(((g=i.data)==null?void 0:g.start_date)||"â€”")}})()})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{fontSize:16,color:"#111827",fontWeight:500,verticalAlign:"top"},children:"Role"}),e.jsx("td",{style:{fontSize:16,color:"#111827"},children:((c=i.data)==null?void 0:c.role)||"Territory Manager"})]})]})})})]}),d===1&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:16},children:"Manager Settings"}),e.jsxs("div",{style:{display:"grid",gap:16},children:[e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:14,fontWeight:600,marginBottom:8},children:"Notifications"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13},children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),"Email notifications for new assignments"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13},children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),"SMS alerts for urgent issues"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13},children:[e.jsx("input",{type:"checkbox"}),"Weekly performance reports"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:14,fontWeight:600,marginBottom:8},children:"Display"}),e.jsxs("div",{style:{display:"grid",gap:8},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:"#6b7280"},children:"Dashboard Refresh Rate"}),e.jsxs("select",{style:{width:"200px",padding:8,border:"1px solid #e5e7eb",borderRadius:6,marginTop:4},children:[e.jsx("option",{value:"30",children:"30 seconds"}),e.jsx("option",{value:"60",selected:!0,children:"1 minute"}),e.jsx("option",{value:"300",children:"5 minutes"}),e.jsx("option",{value:"600",children:"10 minutes"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:12,color:"#6b7280"},children:"Time Zone"}),e.jsxs("select",{style:{width:"200px",padding:8,border:"1px solid #e5e7eb",borderRadius:6,marginTop:4},children:[e.jsx("option",{value:"America/New_York",children:"Eastern Time"}),e.jsx("option",{value:"America/Chicago",children:"Central Time"}),e.jsx("option",{value:"America/Denver",children:"Mountain Time"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"})]})]})]})]}),e.jsx("div",{style:{marginTop:16},children:e.jsx("button",{style:{padding:"8px 16px",background:"#10b981",color:"white",border:"none",borderRadius:6,fontSize:14,fontWeight:600,cursor:"pointer"},children:"Save Settings"})})]})]})]})]})}function H({userId:l,config:x,features:f,api:y}){const[i,d]=h.useState("personal"),[r,s]=h.useState(""),[u,p]=h.useState([]),[n,v]=h.useState([]),[S,t]=h.useState([]),[b,a]=h.useState(!0);h.useEffect(()=>{(async()=>{try{a(!0);const C=[{service_id:"SRV-001",service_name:"Commercial Deep Cleaning",certification_date:"2024-03-15",certification_level:"Advanced",category:"Cleaning",expires:"2026-03-15"},{service_id:"SRV-002",service_name:"Floor Care & Maintenance",certification_date:"2024-01-10",certification_level:"Expert",category:"Maintenance"},{service_id:"SRV-003",service_name:"Window Cleaning Services",certification_date:"2024-02-20",certification_level:"Intermediate",category:"Cleaning",expires:"2025-02-20"}],N=[{service_id:"CEN001-SRV001",service_name:"Commercial Deep Cleaning",status:"active",client:"Downtown Business Center",start_date:"2025-09-01",category:"Recurring",assigned_crew:["CREW-001","CREW-002"]},{service_id:"CEN002-SRV002",service_name:"Floor Care & Maintenance",status:"active",client:"Metro Construction LLC",start_date:"2025-09-10",end_date:"2025-09-15",category:"One-time",assigned_crew:["CREW-003","CREW-004","CREW-005"]}],D=[{service_id:"CEN003-SRV001",service_name:"Commercial Deep Cleaning",status:"completed",client:"City Diner",start_date:"2025-08-15",end_date:"2025-08-20",category:"One-time",assigned_crew:["CREW-001","CREW-006"]},{service_id:"CEN004-SRV003",service_name:"Window Cleaning Services",status:"cancelled",client:"Health Partners Clinic",start_date:"2025-08-01",end_date:"2025-08-02",category:"One-time",assigned_crew:["CREW-002"]},{service_id:"CEN005-SRV002",service_name:"Floor Care & Maintenance",status:"completed",client:"Fashion Forward",start_date:"2025-07-01",end_date:"2025-07-31",category:"Monthly",assigned_crew:["CREW-007"]}];p(C),v(N),t(D)}catch(C){console.error("Error loading services:",C)}finally{a(!1)}})()},[l]);const c=(o,C)=>{alert(`Opening detailed view for ${o} from ${C} section`)},m=()=>{alert("Browse CKS Catalog - Coming Soon!")};if(b)return e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:24,marginBottom:8},children:"â³"}),e.jsx("div",{children:"Loading services..."})]});const g=()=>{switch(i){case"personal":return u;case"active":return n;case"history":return S;default:return[]}},j=()=>{switch(i){case"personal":return["Service ID","Service Name","Category","Certification Level","Certified Date","Expires"];case"active":return["Service ID","Service Name","Client","Category","Start Date","Assigned Crew"];case"history":return["Service ID","Service Name","Client","Status","Start Date","End Date"];default:return[]}},k=o=>{switch(i){case"personal":return e.jsxs("tr",{children:[e.jsx("td",{style:{padding:10,fontWeight:600,color:"#3b82f6",cursor:"pointer"},onClick:()=>c(o.service_id,"My Services"),children:o.service_id}),e.jsx("td",{style:{padding:10},children:o.service_name}),e.jsx("td",{style:{padding:10},children:o.category}),e.jsx("td",{style:{padding:10},children:o.certification_level}),e.jsx("td",{style:{padding:10},children:o.certification_date}),e.jsx("td",{style:{padding:10},children:o.expires||"â€”"})]},o.service_id);case"active":return e.jsxs("tr",{children:[e.jsx("td",{style:{padding:10,fontWeight:600,color:"#3b82f6",cursor:"pointer"},onClick:()=>c(o.service_id,"Active Services"),children:o.service_id}),e.jsx("td",{style:{padding:10},children:o.service_name}),e.jsx("td",{style:{padding:10},children:o.client||"â€”"}),e.jsx("td",{style:{padding:10},children:o.category}),e.jsx("td",{style:{padding:10},children:o.start_date}),e.jsx("td",{style:{padding:10},children:o.assigned_crew?o.assigned_crew.length+" crew":"â€”"})]},o.service_id);case"history":return e.jsxs("tr",{children:[e.jsx("td",{style:{padding:10,fontWeight:600,color:"#3b82f6",cursor:"pointer"},onClick:()=>c(o.service_id,"Service History"),children:o.service_id}),e.jsx("td",{style:{padding:10},children:o.service_name}),e.jsx("td",{style:{padding:10},children:o.client||"â€”"}),e.jsx("td",{style:{padding:10},children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:4,fontSize:10,fontWeight:600,background:o.status==="completed"?"#dcfce7":"#fef2f2",color:o.status==="completed"?"#166534":"#991b1b"},children:o.status})}),e.jsx("td",{style:{padding:10},children:o.start_date}),e.jsx("td",{style:{padding:10},children:o.end_date||"â€”"})]},o.service_id);default:return null}},w=o=>{switch(o){case"personal":return`My Services (${u.length})`;case"active":return`Active Services (${n.length})`;case"history":return`Service History (${S.length})`;default:return o}},B=()=>{switch(i){case"personal":return"Services you are personally trained in";case"active":return"Services you are currently overseeing";case"history":return"Historical services you've managed or trained crew on";default:return""}};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,margin:0,color:"#111827"},children:"My Services"}),e.jsx("button",{onClick:m,style:{padding:"8px 16px",border:"1px solid #3b82f6",borderRadius:6,background:"#3b82f6",color:"white",fontSize:14,fontWeight:600,cursor:"pointer"},children:"Browse CKS Catalog"})]}),e.jsx("div",{style:{display:"flex",gap:8,marginBottom:16},children:["personal","active","history"].map(o=>e.jsx("button",{onClick:()=>d(o),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #e5e7eb",background:i===o?"#3b82f6":"white",color:i===o?"white":"#111827",fontSize:14,fontWeight:600,cursor:"pointer"},children:w(o)},o))}),e.jsxs("div",{style:{border:"1px solid #edf2f7",borderRadius:10,background:"#fafafa",padding:12},children:[e.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:12},children:B()}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12},children:[e.jsx("input",{value:r,onChange:o=>s(o.target.value),placeholder:"Search by Service ID or name",style:{flex:1,padding:8,border:"1px solid #e5e7eb",borderRadius:8,background:"white"}}),e.jsx("span",{style:{fontSize:12,color:"#6b7280"},children:"max 10"})]}),e.jsx("div",{style:{overflowX:"auto",background:"white",border:"1px solid #e5e7eb",borderRadius:8},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsx("tr",{children:j().map(o=>e.jsx("th",{style:{textAlign:"left",background:"#f9fafb",borderBottom:"1px solid #e5e7eb",padding:10,fontSize:12,color:"#6b7280"},children:o},o))})}),e.jsx("tbody",{children:g().filter(o=>{const C=r.trim().toLowerCase();return C?String(o.service_id||"").toLowerCase().includes(C)||String(o.service_name||"").toLowerCase().includes(C):!0}).slice(0,10).map(o=>k(o))})]})})]})]})}function $({userId:l,config:x,features:f,api:y}){const[i,d]=h.useState([]),[r,s]=h.useState(new Set),[u,p]=h.useState(!0),[n,v]=h.useState(null);h.useEffect(()=>{let a=!1;return(async()=>{try{p(!0),v(null);const m=await fetch(`/api/manager/ecosystem?code=${encodeURIComponent(l)}`,{credentials:"include"}),g=await m.json();if(!m.ok||(g==null?void 0:g.success)===!1)throw new Error((g==null?void 0:g.error)||`HTTP ${m.status}`);a||d(Array.isArray(g==null?void 0:g.data)?g.data:Array.isArray(g)?g:[])}catch(c){a||v((c==null?void 0:c.message)||"Failed to load ecosystem")}finally{a||p(!1)}})(),()=>{a=!0}},[l]);function S(a){const c=new Set(r);c.has(a)?c.delete(a):c.add(a),s(c)}function t(a,c){return e.jsx("span",{style:{display:"inline-block",padding:"2px 6px",fontSize:10,fontWeight:600,borderRadius:12,background:c,color:"white",marginLeft:8,textTransform:"uppercase"},children:a})}function b(a,c=0){const m=a.children&&a.children.length>0,g=r.has(a.id),j=c*20;return e.jsxs("div",{style:{marginBottom:4},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"8px 12px",marginLeft:j,background:c===0?"#f8fafc":"transparent",borderRadius:6,border:c===0?"1px solid #e2e8f0":"none",cursor:m?"pointer":"default"},onClick:m?()=>S(a.id):void 0,children:[m&&e.jsx("span",{style:{marginRight:8,fontSize:12,color:"#6b7280"},children:g?"â–¼":"â–¶"}),!m&&e.jsx("span",{style:{marginRight:20}}),e.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center"},children:[e.jsx("span",{style:{fontSize:14,fontWeight:c===0?600:500},children:a.name}),a.type==="manager"&&t("MGR","#3b82f6"),a.type==="contractor"&&t("CON","#10b981"),a.type==="customer"&&t("CUS","#f59e0b"),a.type==="center"&&t("CEN","#8b5cf6"),a.type==="crew"&&t("CRW","#ef4444"),a.stats&&e.jsxs("div",{style:{marginLeft:12,fontSize:12,color:"#6b7280"},children:[a.stats.customers&&e.jsxs("span",{children:["ðŸ‘¥ ",a.stats.customers," customers"]}),a.stats.centers&&e.jsxs("span",{style:{marginLeft:8},children:["ðŸ¢ ",a.stats.centers," centers"]}),a.stats.crew&&e.jsxs("span",{style:{marginLeft:8},children:["ðŸ‘· ",a.stats.crew," crew"]})]})]})]}),m&&g&&e.jsx("div",{children:a.children.map(k=>b(k,c+1))})]},a.id)}return u?e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:"My Ecosystem"}),e.jsx("div",{className:"ui-card",style:{padding:16},children:e.jsx("div",{style:{textAlign:"center",padding:40,color:"#6b7280"},children:"Loading ecosystem..."})})]}):n?e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:"My Ecosystem"}),e.jsx("div",{className:"ui-card",style:{padding:16},children:e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#dc2626",background:"#fef2f2",borderRadius:8},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"âš ï¸"}),e.jsx("div",{style:{fontSize:16,fontWeight:500},children:"Failed to Load My Ecosystem"}),e.jsx("div",{style:{fontSize:12,marginTop:4},children:n})]})})]}):e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:"Ecosystem"}),e.jsx("div",{className:"ui-card",style:{padding:16},children:i.length===0?e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280",background:"#f9fafb",borderRadius:8},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"ðŸŒ"}),e.jsx("div",{style:{fontSize:16,fontWeight:500,marginBottom:4},children:"No My Ecosystem Data"}),e.jsxs("div",{style:{fontSize:12,marginTop:4,lineHeight:1.5},children:["Your ecosystem relationships will appear here once configured.",e.jsx("br",{}),"This includes contractors, customers, centers, and crew assignments."]})]}):e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:16,fontSize:13,color:"#6b7280"},children:"Click on items with arrows to expand and explore your territory ecosystem."}),e.jsx("div",{children:i.map(a=>b(a))})]})})]})}const A={status:[{orderId:"CEN001-ORD-SRV001",serviceName:"Window Cleaning",centerName:"Downtown Office Complex",centerId:"CEN001",requestedBy:"Center Manager",createdBy:"center",requestDate:"2025-09-10",expectedStartDate:"2025-09-15",contractorStatus:"approved",customerStatus:"approved",managerStatus:"pending",priority:"high",description:"Weekly window cleaning for all floors"},{orderId:"CEN002-ORD-SRV003",serviceName:"Lawn Maintenance",centerName:"Westside Business Park",centerId:"CEN002",requestedBy:"Facility Coordinator",createdBy:"customer",requestDate:"2025-09-09",expectedStartDate:"2025-09-20",contractorStatus:"pending",customerStatus:"approved",managerStatus:"not_ready",priority:"medium",description:"Bi-weekly lawn care and landscaping"},{orderId:"CEN004-ORD-SRV005",serviceName:"Carpet Deep Clean",centerName:"Industrial Complex East",centerId:"CEN004",requestedBy:"Facility Manager",createdBy:"center",requestDate:"2025-09-11",expectedStartDate:"2025-09-16",contractorStatus:"approved",customerStatus:"approved",managerStatus:"pending",priority:"medium",description:"Quarterly carpet deep cleaning service"}],progress:[{orderId:"CEN003-ORD-SRV002",serviceName:"HVAC Maintenance",centerName:"Tech Innovation Hub",centerId:"CEN003",requestedBy:"Operations Manager",createdBy:"center",requestDate:"2025-09-08",expectedStartDate:"2025-09-18",contractorStatus:"approved",customerStatus:"approved",managerStatus:"pending",priority:"high",crewAssigned:!1,trainingRequired:!0,trainingAdded:!1,proceduresAttached:!1,description:"Monthly HVAC system inspection and maintenance"},{orderId:"CEN001-ORD-SRV004",serviceName:"Security System Check",centerName:"Downtown Office Complex",centerId:"CEN001",requestedBy:"Security Chief",createdBy:"center",requestDate:"2025-09-07",expectedStartDate:"2025-09-16",contractorStatus:"approved",customerStatus:"approved",managerStatus:"pending",priority:"high",crewAssigned:!0,trainingRequired:!1,trainingAdded:!0,proceduresAttached:!0,description:"Weekly security system testing and maintenance"}],archive:[{orderId:"CEN004-ORD-SRV001",serviceName:"Window Cleaning",centerName:"Industrial Complex East",centerId:"CEN004",approvedDate:"2025-09-05",becameServiceId:"CEN004-SRV001",finalStartDate:"2025-09-12",description:"Bi-weekly window cleaning service"},{orderId:"CEN002-ORD-SRV002",serviceName:"HVAC Maintenance",centerName:"Westside Business Park",centerId:"CEN002",approvedDate:"2025-09-03",becameServiceId:"CEN002-SRV002",finalStartDate:"2025-09-10",description:"Monthly HVAC system maintenance"}]};function V({userId:l,config:x,features:f,api:y}){const[i,d]=h.useState("in_progress"),[r,s]=h.useState(""),u=(t,b)=>{alert(`${b} action for ${t} - This will integrate with backend API`)},n=(i==="in_progress"?[...A.status,...A.progress]:A[i]).filter(t=>t.orderId.toLowerCase().includes(r.toLowerCase())||t.serviceName.toLowerCase().includes(r.toLowerCase())||t.centerName.toLowerCase().includes(r.toLowerCase())),v=()=>e.jsx("div",{children:n.map(t=>e.jsxs("div",{className:"ui-card",style:{padding:16,marginBottom:12,border:"1px solid #e5e7eb"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[e.jsx("span",{style:{fontWeight:600,color:"#3b82f6",cursor:"pointer"},onClick:()=>alert(`Order details for ${t.orderId}`),children:t.orderId}),e.jsx("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:t.priority==="high"?"#fef2f2":t.priority==="medium"?"#e0f2fe":"#f0fdf4",color:t.priority==="high"?"#dc2626":t.priority==="medium"?"#0369a1":"#16a34a"},children:t.priority.toUpperCase()})]}),e.jsx("div",{style:{fontSize:16,fontWeight:600,marginBottom:4},children:t.serviceName})]}),e.jsxs("div",{style:{textAlign:"right",fontSize:12,color:"#6b7280"},children:[e.jsxs("div",{children:["Requested: ",t.requestDate]}),e.jsxs("div",{children:["Expected Start: ",t.expectedStartDate]})]})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[t.createdBy&&e.jsxs("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:"#e0f2fe",color:"#0369a1"},children:[t.createdBy.charAt(0).toUpperCase()+t.createdBy.slice(1)," Created"]}),e.jsxs("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:t.customerStatus==="approved"?"#dcfce7":"#fef2f2",color:t.customerStatus==="approved"?"#16a34a":"#dc2626"},children:["Customer: ",t.customerStatus]}),e.jsxs("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:t.contractorStatus==="approved"?"#dcfce7":"#fef2f2",color:t.contractorStatus==="approved"?"#16a34a":"#dc2626"},children:["Contractor: ",t.contractorStatus]}),e.jsxs("span",{style:{padding:"2px 8px",borderRadius:12,fontSize:11,fontWeight:600,background:t.managerStatus==="approved"?"#dcfce7":t.managerStatus==="pending"?"#fef2f2":"#fef3c7",color:t.managerStatus==="approved"?"#16a34a":t.managerStatus==="pending"?"#dc2626":"#92400e"},children:["Manager: ",t.managerStatus||"pending"]})]}),t.customerStatus==="approved"&&t.contractorStatus==="approved"&&e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:12},children:e.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[e.jsx("button",{onClick:()=>u(t.orderId,t.crewAssigned?"Change Crew":"Assign Crew"),style:{padding:"6px 12px",borderRadius:6,border:t.crewAssigned?"1px solid #059669":"1px solid #d1d5db",background:t.crewAssigned?"#dcfce7":"white",color:t.crewAssigned?"#059669":"#374151",fontSize:12,fontWeight:600,cursor:"pointer"},children:t.crewAssigned?"Crew Assigned":"Assign Crew"}),e.jsx("button",{onClick:()=>u(t.orderId,t.trainingAdded?"Modify Training":"Add Training"),style:{padding:"6px 12px",borderRadius:6,border:t.trainingAdded?"1px solid #059669":"1px solid #d1d5db",background:t.trainingAdded?"#dcfce7":"white",color:t.trainingAdded?"#059669":"#374151",fontSize:12,fontWeight:600,cursor:"pointer"},children:t.trainingAdded?"Training Added":"Add Training"}),e.jsx("button",{onClick:()=>u(t.orderId,t.proceduresAttached?"Update Procedures":"Attach Procedures"),style:{padding:"6px 12px",borderRadius:6,border:t.proceduresAttached?"1px solid #059669":"1px solid #d1d5db",background:t.proceduresAttached?"#dcfce7":"white",color:t.proceduresAttached?"#059669":"#374151",fontSize:12,fontWeight:600,cursor:"pointer"},children:t.proceduresAttached?"Procedures Added":"Attach Procedures"}),(!t.managerStatus||t.managerStatus==="pending")&&e.jsx("button",{onClick:()=>u(t.orderId,"Approve Order"),style:{padding:"8px 16px",borderRadius:6,border:"none",background:"#059669",color:"white",fontSize:12,fontWeight:600,cursor:"pointer"},children:"Approve Order"})]})})]},t.orderId))}),S=()=>e.jsx("div",{children:n.map(t=>e.jsx("div",{className:"ui-card",style:{padding:16,marginBottom:12,border:"1px solid #e5e7eb"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[e.jsx("span",{style:{fontWeight:600,color:"#6b7280",cursor:"pointer"},onClick:()=>alert(`Archived order details for ${t.orderId}`),children:t.orderId}),e.jsx("span",{style:{fontSize:12,color:"#6b7280"},children:"â†’"}),e.jsx("span",{style:{fontWeight:600,color:"#10b981",cursor:"pointer"},onClick:()=>alert(`Service details for ${t.becameServiceId}`),children:t.becameServiceId})]}),e.jsx("div",{style:{fontSize:16,fontWeight:600,marginBottom:4},children:t.serviceName})]}),e.jsx("div",{style:{textAlign:"right",fontSize:12,color:"#6b7280"},children:e.jsxs("div",{children:["Approved: ",t.approvedDate]})})]})},t.orderId))});return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,margin:0},children:"Orders"}),e.jsx("input",{type:"text",placeholder:"Search orders (max 10 results)...",value:r,onChange:t=>s(t.target.value),style:{padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:6,fontSize:14,width:250}})]}),e.jsx("div",{style:{display:"flex",gap:8,marginBottom:16},children:[{key:"in_progress",label:"In Progress"},{key:"archive",label:"Archive"}].map(t=>e.jsx("button",{onClick:()=>d(t.key),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #e5e7eb",background:i===t.key?"#3b82f6":"white",color:i===t.key?"white":"#111827",fontSize:13,fontWeight:600,cursor:"pointer"},children:t.label},t.key))}),e.jsx("div",{style:{marginBottom:16},children:n.length===0?e.jsx("div",{className:"ui-card",style:{padding:16},children:e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280",background:"#f9fafb",borderRadius:8},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"ðŸ“‹"}),e.jsx("div",{style:{fontSize:16,fontWeight:500,marginBottom:4},children:r?"No matching orders found":`No Orders in ${i==="in_progress"?"progress":i}`}),e.jsxs("div",{style:{fontSize:12,marginTop:4,lineHeight:1.5},children:[i==="in_progress"&&"Orders requiring approval and scheduling will appear here.",i==="archive"&&"Completed orders that became active services will appear here."]})]})}):e.jsxs("div",{children:[i==="in_progress"&&v(),i==="archive"&&S()]})}),e.jsxs("div",{style:{fontSize:12,color:"#6b7280",textAlign:"center",paddingTop:8},children:["Showing ",Math.min(n.length,10)," of ",n.length," orders"]})]})}function U({userId:l,config:x,features:f,api:y}){const[i,d]=h.useState("reports"),[r,s]=h.useState("center");return e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:12},children:"Reports & Feedback"}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:12},children:[e.jsxs("div",{style:{display:"inline-flex",gap:8},children:[e.jsx("button",{onClick:()=>d("reports"),style:{padding:"6px 10px",borderRadius:8,border:"1px solid #e5e7eb",background:i==="reports"?"#3b7af7":"white",color:i==="reports"?"white":"#111827",fontSize:12,fontWeight:700},children:"Reports"}),e.jsx("button",{onClick:()=>d("feedback"),style:{padding:"6px 10px",borderRadius:8,border:"1px solid #e5e7eb",background:i==="feedback"?"#3b7af7":"white",color:i==="feedback"?"white":"#111827",fontSize:12,fontWeight:700},children:"Feedback"})]}),e.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:{fontSize:12,color:"#6b7280"},children:"Scope:"}),e.jsxs("select",{value:r,onChange:u=>s(u.target.value),style:{padding:"4px 8px",fontSize:12,border:"1px solid #e5e7eb",borderRadius:4},children:[e.jsx("option",{value:"center",children:"Center"}),e.jsx("option",{value:"customer",children:"Customer"})]})]})]}),e.jsx("div",{className:"ui-card",style:{padding:16},children:e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280",background:"#f9fafb",borderRadius:8},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"ðŸ“Š"}),e.jsxs("div",{style:{fontSize:16,fontWeight:500,marginBottom:4},children:["No ",i==="reports"?"Reports":"Feedback"," Available"]}),e.jsx("div",{style:{fontSize:12,marginTop:4,lineHeight:1.5},children:i==="reports"?"System reports and analytics will appear here when available.":"Customer and contractor feedback will be displayed here."})]})})]})}function G({userId:l,config:x,features:f,api:y}){const[i,d]=h.useState("knowledge"),[r,s]=h.useState({issue_type:"bug",priority:"medium",subject:"",description:"",steps_to_reproduce:""}),u=n=>{if(n.preventDefault(),!r.subject||!r.description){alert("Please fill in subject and description");return}const v=`TKT-${Date.now()}`;console.log("Submitting support ticket to admin hub:",{...r,ticketId:v,userId:l}),alert(`Support ticket ${v} submitted successfully!

You will receive an email confirmation shortly.`),s({issue_type:"bug",priority:"medium",subject:"",description:"",steps_to_reproduce:""})},p=()=>{s({issue_type:"bug",priority:"medium",subject:"",description:"",steps_to_reproduce:""})};return e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:"Support Center"}),e.jsx("div",{style:{display:"flex",gap:8,marginBottom:16},children:[{key:"knowledge",label:"Knowledge Base"},{key:"tickets",label:"My Tickets"},{key:"contact",label:"Contact Support"}].map(n=>e.jsx("button",{onClick:()=>d(n.key),style:{padding:"8px 16px",borderRadius:6,border:"1px solid #e5e7eb",background:i===n.key?"#3b7af7":"white",color:i===n.key?"white":"#111827",fontSize:13,fontWeight:600,cursor:"pointer"},children:n.label},n.key))}),e.jsxs("div",{className:"ui-card",style:{padding:16},children:[i==="knowledge"&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:12},children:"Frequently Asked Questions"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[{q:"How do I schedule a new service request?",a:'Navigate to Orders â†’ Needs Scheduling and click "Schedule" on any pending request.'},{q:"How can I view my ecosystem network?",a:"Go to My Ecosystem tab to see your business network and relationships."},{q:"Where do I manage my services?",a:"Use the My Services tab to add, edit, or remove services you offer."},{q:"How do I access reports and feedback?",a:"Check the Reports tab for all analytics, reports, and customer feedback."},{q:"How do I update my profile information?",a:"Go to My Profile tab to update your contact details, settings, and preferences."},{q:"What should I do if I encounter a technical issue?",a:"Submit a support ticket using the Contact Support tab with detailed information about the problem."}].map((n,v)=>e.jsxs("div",{style:{padding:12,background:"#f9fafb",borderRadius:6,border:"1px solid #e5e7eb"},children:[e.jsx("div",{style:{fontSize:14,fontWeight:600,marginBottom:4,color:"#111827"},children:n.q}),e.jsx("div",{style:{fontSize:13,color:"#6b7280",lineHeight:1.5},children:n.a})]},v))})]}),i==="tickets"&&e.jsxs("div",{style:{textAlign:"center",padding:40,color:"#6b7280",background:"#f9fafb",borderRadius:8},children:[e.jsx("div",{style:{fontSize:48,marginBottom:8},children:"ðŸŽ«"}),e.jsx("div",{style:{fontSize:16,fontWeight:500,marginBottom:4},children:"No Support Tickets"}),e.jsxs("div",{style:{fontSize:12,marginTop:4,lineHeight:1.5},children:["Your submitted support tickets will appear here.",e.jsx("br",{}),"You can track status and responses from our support team."]})]}),i==="contact"&&e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:12},children:"Submit Support Request"}),e.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:16},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,marginBottom:4,color:"#374151"},children:"Issue Type"}),e.jsxs("select",{value:r.issue_type,onChange:n=>s({...r,issue_type:n.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,fontSize:13},children:[e.jsx("option",{value:"bug",children:"Bug Report"}),e.jsx("option",{value:"how_to",children:"How-To Question"}),e.jsx("option",{value:"feature_question",children:"Feature Question"}),e.jsx("option",{value:"account_issue",children:"Account Issue"}),e.jsx("option",{value:"business_support",children:"Business Support"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,marginBottom:4,color:"#374151"},children:"Priority Level"}),e.jsxs("select",{value:r.priority,onChange:n=>s({...r,priority:n.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,fontSize:13},children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,marginBottom:4,color:"#374151"},children:"Subject"}),e.jsx("input",{type:"text",value:r.subject,onChange:n=>s({...r,subject:n.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,fontSize:13},placeholder:"Brief description of your issue or question",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,marginBottom:4,color:"#374151"},children:"Detailed Description"}),e.jsx("textarea",{value:r.description,onChange:n=>s({...r,description:n.target.value}),maxLength:1e4,rows:5,style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,fontSize:13,resize:"none",boxSizing:"border-box"},placeholder:"Please provide detailed information about your issue, including any error messages or specific problems you're experiencing",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,marginBottom:4,color:"#374151"},children:"Steps to Reproduce (if applicable)"}),e.jsx("textarea",{value:r.steps_to_reproduce,onChange:n=>s({...r,steps_to_reproduce:n.target.value}),maxLength:5e3,rows:3,style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:6,fontSize:13,resize:"none",boxSizing:"border-box"},placeholder:"If this is a bug report, please list the specific steps to reproduce the issue"})]}),e.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",style:{padding:"8px 16px",borderRadius:6,border:"1px solid #e5e7eb",background:"white",color:"#374151",fontSize:13,fontWeight:500,cursor:"pointer"},onClick:p,children:"Clear"}),e.jsx("button",{type:"submit",style:{padding:"8px 16px",borderRadius:6,border:"none",background:"#3b7af7",color:"white",fontSize:13,fontWeight:500,cursor:"pointer"},children:"Submit Ticket"})]})]}),e.jsxs("div",{style:{marginTop:24,padding:16,background:"#f0f9ff",borderRadius:8,border:"1px solid #0ea5e9"},children:[e.jsx("div",{style:{fontSize:13,fontWeight:500,color:"#0c4a6e",marginBottom:8},children:"Need immediate assistance?"}),e.jsxs("div",{style:{fontSize:12,color:"#075985",lineHeight:1.5},children:["For urgent issues, call our support hotline: ",e.jsx("strong",{children:"(555) 123-4567"}),e.jsx("br",{}),"Email: ",e.jsx("strong",{children:"support@cks-portal.com"}),e.jsx("br",{}),"Hours: Monday - Friday, 8:00 AM - 6:00 PM EST"]})]})]})]})]})}const Q={Dashboard:O,MyProfile:q,MyServices:H,Ecosystem:$,Orders:V,Reports:U,Support:G},Y={ManagerRecentActions:I},X={components:Q,utilityComponents:Y,role:"manager",version:"1.0.0"};export{Q as components,X as default,Y as utilityComponents};
